import matplotlib.pyplot as plt
import matplotlib.animation as animation
from matplotlib import style


style.use('seaborn-whitegrid')

grafico= plt.figure()
eixo_x= grafico.add_subplot(1,1,1)

def animate(i):
 #neste ponto, deve-se notar que os valores são importados das séries temporais já
 #prontas e encontradas na internet. após baixadas em arquivos .csv, elas são tratadas
 #para terem o formato ('dia na série temporal','valor da ação naquele dia') e poderem
 #ser plotadas como pares ordenados
 with open('teslateste.txt','r') as tesla: 
    valores_acoes= tesla.read()
    
    linhas= valores_acoes.split('\n')
    tempo=[]
    valores_acoes=[]
    for linha in linhas:
        if len(linha)> 1:
            x,y = linha.split(',')
            tempo.append(int(x))
            valores_acoes.append(int(y))
    eixo_x.clear()
    eixo_x.plot(tempo,valores_acoes)
    plt.xlabel('Tempo (dias)')
    plt.ylabel('Valor da ação (dólares)')
    
    
animação= animation.FuncAnimation(grafico, animate, interval=1000)
plt.show()
